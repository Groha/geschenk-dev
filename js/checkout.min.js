import{g as n,a as l,s as i}from"./app.min.js";import"./autoheight.min.js";import{f as a}from"./form.min.js";const f=n();f.length||(alert("\u0412\u0430\u0448\u0430 \u043A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430! \u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u0442\u043E\u0432\u0430\u0440\u044B \u043F\u0435\u0440\u0435\u0434 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0435\u043C \u0437\u0430\u043A\u0430\u0437\u0430."),window.location.href="https://groha.github.io/geschenk-dev/");function s(){const t=n(),r=document.querySelector(".checkout__items");r.innerHTML="";let c=0,e=0;t.forEach(o=>{c+=Number(o.qty),e+=Number(o.qty)*Number(o.price),r.innerHTML+=`
      <li class="checkout-item" data-id="${o.id}">
        ${o.title} \u2014 ${o.qty} \u0448\u0442. \u2014 ${o.price*o.qty} \u20B4
      </li>
    `}),document.querySelector(".checkout__subtotal").textContent=`${c} \u0448\u0442.`,document.querySelector(".checkout__total").textContent=`${e} \u20B4`}function m(){const t=document.querySelector(".checkout__form");t&&(t.setAttribute("novalidate",!0),t.addEventListener("submit",async r=>{if(r.preventDefault(),a.getErrors(t)>0){if(t.hasAttribute("data-fls-form-gotoerr")){const u=t.dataset.flsFormGotoerr||".--form-error";l(u)}return}const e=new FormData(t),o={cart:n(),customer:Object.fromEntries(e.entries())};console.log("\u0414\u0430\u043D\u043D\u044B\u0435 \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438:",o),a.formClean(t),i([]),s(),window.location.href="https://groha.github.io/geschenk-dev/thank-you"}))}s(),m();
