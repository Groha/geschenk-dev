import{u as n,g as s,s as l}from"./app.min.js";function o(){const e=s(),a=document.querySelector(".cart__items"),c=document.querySelector(".cart__summary");if(a.innerHTML="",!e.length){c.innerHTML=`
      <p>\u0412\u0430\u0448\u0430 \u043A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430.</p>
      <a href="/products.html" data-fls-button class="summary__button button">\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u0442\u043E\u0432\u0430\u0440\u0430\u043C</a>
    `;return}e.forEach(t=>{a.innerHTML+=`
      <article class="cart-item fade-in" data-id="${t.id}">
        <img src="${t.img}" alt="${t.title}" class="cart-item__img">
        <div class="cart-item__body">
          <div class="cart-item__info">
            <h3 class="cart-item__title">${t.title}</h3>
            <p class="cart-item__meta">\u0410\u0440\u0442\u0438\u043A\u0443\u043B: ${t.id}</p>
          </div>

          <div class="cart-item__controls">
            <span class="cart-item__price" data-price="${t.price}">${t.price*t.qty} \u20B4</span>
            <div class="cart-item__quantity">
              <div class="double-btn">
                ${t.qty>1?'<button class="qty-btn minus">\u2212</button>':'<button class="qty-btn remove --icon-trash"></button>'}
              </div>
              <span class="qty-value">${t.qty}</span>
              <button class="qty-btn plus">+</button>
            </div>
          </div>
        </div>
      </article>
    `}),d(),u()}function u(){const e=s(),a=e.reduce((t,r)=>t+r.qty,0),c=e.reduce((t,r)=>t+r.price*r.qty,0);document.querySelector(".summary__total-sum").textContent=`${c} \u20B4`,document.querySelector(".summary__subtotal").textContent=`${a} \u0448\u0442.`}function d(){document.querySelectorAll(".cart-item").forEach(e=>{const a=e.dataset.id;e.querySelector(".qty-value"),e.querySelector(".plus").addEventListener("click",()=>{i(a,1)}),e.querySelector(".minus")?.addEventListener("click",()=>{i(a,-1)}),e.querySelector(".remove")?.addEventListener("click",()=>{y(a)})})}function i(e,a){let c=s();const t=c.find(r=>r.id===e);t.qty=Math.max(1,t.qty+a),l(c),o(),n()}function y(e){let a=s().filter(c=>c.id!==e);l(a),o(),n()}o(),n();
