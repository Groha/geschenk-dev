import"./app.min.js";function d(){document.addEventListener("click",e),document.addEventListener("input",e);function e(a){const n=a.type,l=a.target;if(n==="click"){if(l.closest("[data-fls-quantity-plus]")||l.closest("[data-fls-quantity-minus]")){const t=l.closest("[data-fls-quantity]").querySelector("[data-fls-quantity-value]");let s=parseInt(t.value);l.hasAttribute("data-fls-quantity-plus")?(s++,+t.dataset.flsQuantityMax&&+t.dataset.flsQuantityMax<s&&(s=t.dataset.flsQuantityMax)):(--s,+t.dataset.flsQuantityMin?+t.dataset.flsQuantityMin>s&&(s=t.dataset.flsQuantityMin):s<1&&(s=1)),l.closest("[data-fls-quantity]").querySelector("[data-fls-quantity-value]").value=s}}else if(n==="input"&&l.closest("[data-fls-quantity-value]")){const t=l.closest("[data-fls-quantity-value]");(t.value==0||/[^0-9]/gi.test(t.value))&&(t.value=1)}}}document.querySelector("[data-fls-quantity]")&&window.addEventListener("load",d),document.querySelectorAll(".cart-item").forEach(e=>{const a=e.querySelector("input"),n=e.querySelector(".plus"),l=e.querySelector(".minus");parseFloat(e.querySelector(".cart-item__price").dataset.price);const t=()=>{const s=Array.from(document.querySelectorAll(".cart-item")).reduce((c,u)=>{const i=parseInt(u.querySelector("input").value),o=parseFloat(u.querySelector(".cart-item__price").dataset.price);return c+i*o},0);document.querySelector(".summary__subtotal").textContent=`${s} \u20B4`,document.querySelector(".summary__total-sum").textContent=`${s} \u20B4`};n.addEventListener("click",()=>{a.value=parseInt(a.value)+1,r(e),t()}),l.addEventListener("click",()=>{a.value>1&&(a.value=parseInt(a.value)-1,r(e),t())}),e.querySelector(".cart-item__remove").addEventListener("click",()=>{e.classList.add("fade-out"),setTimeout(()=>{e.remove(),t()},400)})});function r(e){const a=e.querySelector(".cart-item__price");a.style.transition="transform 0.2s ease",a.style.transform="scale(1.1)",setTimeout(()=>{a.style.transform="scale(1)"},200)}
