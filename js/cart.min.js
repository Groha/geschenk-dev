import{u as n,g as s,s as i}from"./app.min.js";let l=!0;function o(){const t=s(),a=document.querySelector(".cart__items"),c=document.querySelector(".cart__summary");if(a.innerHTML="",!t.length){c.innerHTML=`
      <p style="text-align:center">\u0412\u0430\u0448\u0430 \u043A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430.</p>
      <a href="/products.html" data-fls-button class="summary__button button">\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u0442\u043E\u0432\u0430\u0440\u0430\u043C</a>
    `;return}t.forEach(e=>{a.innerHTML+=`
      <article class="cart-item ${l?"fade-in":""}" data-id="${e.id}">
        <img src="${e.img}" alt="${e.title}" class="cart-item__img">
        <div class="cart-item__body">
          <div class="cart-item__info">
            <h3 class="cart-item__title">${e.title}</h3>
            <p class="cart-item__meta">\u0410\u0440\u0442\u0438\u043A\u0443\u043B: ${e.id}</p>
          </div>

          <div class="cart-item__controls">
            <span class="cart-item__price" data-price="${e.price}">${e.price*e.qty} \u20B4</span>
            <div class="cart-item__quantity">
              <div class="double-btn">
                ${e.qty>1?'<button class="qty-btn minus">\u2212</button>':'<button class="qty-btn remove --icon-trash"></button>'}
              </div>
              <span class="qty-value">${e.qty}</span>
              <button class="qty-btn plus">+</button>
            </div>
          </div>
        </div>
      </article>
    `}),y(),m(),l=!1}function m(){const t=s(),a=t.reduce((e,r)=>e+r.qty,0),c=t.reduce((e,r)=>e+r.price*r.qty,0);document.querySelector(".summary__total-sum").textContent=`${c} \u20B4`,document.querySelector(".summary__subtotal").textContent=`${a} \u0448\u0442.`}function y(){document.querySelectorAll(".cart-item").forEach(t=>{const a=t.dataset.id;t.querySelector(".plus").addEventListener("click",()=>{u(a,1)}),t.querySelector(".minus")?.addEventListener("click",()=>{u(a,-1)}),t.querySelector(".remove")?.addEventListener("click",()=>{_(a)})})}function u(t,a){let c=s();const e=c.find(d=>d.id===t);e.qty=Math.max(1,e.qty+a),i(c),o();const r=document.querySelector(`.cart-item[data-id="${t}"] .cart-item__price`);p(r,e.price*e.qty),n()}function _(t){let a=s().filter(c=>c.id!==t);i(a),o(),n()}function p(t,a){t.style.transition="transform 0.3s ease",t.style.transform="scale(1.2)",setTimeout(()=>{t.textContent=`${a} \u20B4`,t.style.transform="scale(1)"},200)}o(),n();
