import{u as o,g as c,s as u}from"./app.min.js";function d(){document.addEventListener("click",a),document.addEventListener("input",a);function a(e){const t=e.type,n=e.target;if(t==="click"){if(n.closest("[data-fls-quantity-plus]")||n.closest("[data-fls-quantity-minus]")){const s=n.closest("[data-fls-quantity]").querySelector("[data-fls-quantity-value]");let i=parseInt(s.value);n.hasAttribute("data-fls-quantity-plus")?(i++,+s.dataset.flsQuantityMax&&+s.dataset.flsQuantityMax<i&&(i=s.dataset.flsQuantityMax)):(--i,+s.dataset.flsQuantityMin?+s.dataset.flsQuantityMin>i&&(i=s.dataset.flsQuantityMin):i<1&&(i=1)),n.closest("[data-fls-quantity]").querySelector("[data-fls-quantity-value]").value=i}}else if(t==="input"&&n.closest("[data-fls-quantity-value]")){const s=n.closest("[data-fls-quantity-value]");(s.value==0||/[^0-9]/gi.test(s.value))&&(s.value=1)}}}document.querySelector("[data-fls-quantity]")&&window.addEventListener("load",d);function l(){const a=c(),e=document.querySelector(".cart__items");e.innerHTML="",a.forEach(t=>{e.innerHTML+=`
      <article class="cart-item fade-in" data-id="${t.id}">
        <img src="${t.img}" alt="${t.title}" class="cart-item__img">
        <div class="cart-item__body">
          <div class="cart-item__info">
            <h3 class="cart-item__title">${t.title}</h3>
            <p class="cart-item__meta">\u0410\u0440\u0442\u0438\u043A\u0443\u043B: ${t.id}</p>
          </div>

          <div class="cart-item__controls">
            <span class="cart-item__price" data-price="${t.price}">${t.price*t.qty} \u20B4</span>
            <div class="cart-item__quantity">
              <button class="qty-btn minus">\u2212</button>
              <input type="number" value="${t.qty}">
              <button class="qty-btn plus">+</button>
            </div>
            <button class="cart-item__remove">\u{1F5D1}\uFE0F</button>
          </div>
        </div>
      </article>
    `}),f(),y()}function y(){const e=c().reduce((t,n)=>t+n.price*n.qty,0);document.querySelector(".summary__total-sum").textContent=`${e} \u20B4`}function f(){document.querySelectorAll(".cart-item").forEach(a=>{const e=a.dataset.id;a.querySelector("input"),a.querySelector(".plus").addEventListener("click",()=>{r(e,1)}),a.querySelector(".minus").addEventListener("click",()=>{r(e,-1)}),a.querySelector(".cart-item__remove").addEventListener("click",()=>{v(e)})})}function r(a,e){let t=c();const n=t.find(s=>s.id===a);n.qty=Math.max(1,n.qty+e),u(t),l()}function v(a){let e=c().filter(t=>t.id!==a);u(e),l()}l(),o();
