import{g as m,s as p,u as y}from"./app.min.js";import"./slider.min.js";function g(){document.addEventListener("click",n);function n(o){const a=o.target;if(a.closest("[data-fls-addtocart-button]")){let t=document.querySelector("[data-fls-addtocart]");const i=a.closest("[data-fls-addtocart-button]").closest("[data-fls-addtocart-product]");if(i){let c=i.querySelector("[data-fls-addtocart-quantity]");c=c?+c.value:1;const l=i.querySelector("[data-fls-addtocart-image]"),r=+l?.dataset?.flsAddtocartImage||500;l&&s(l,t,r),setTimeout(()=>{t.innerHTML=+t.innerHTML+c},l?r:0)}else t.innerHTML=+t.innerHTML+1}}function s(o,a,t){const e=document.createElement("img");e.src=o.src,e.style.cssText=`
			position: absolute;
			left: ${o.getBoundingClientRect().left+scrollX}px;
			top: ${o.getBoundingClientRect().top+scrollY}px;
			width: ${o.offsetWidth}px;
			transition: all ${t}ms;
		`,document.body.insertAdjacentElement("beforeend",e),e.style.left=`${a.getBoundingClientRect().left+scrollX}px`,e.style.top=`${a.getBoundingClientRect().top+scrollY}px`,e.style.width=0,e.style.opacity="0",setTimeout(()=>{e.remove()},t)}}document.querySelector("[data-fls-addtocart]")&&window.addEventListener("load",g);let u,d=null;document.addEventListener("click",n=>{const s=n.target.closest(".add-to-cart");if(s){d=s;const o=s.dataset.id,a=m(),t=a.find(e=>e.id===o);t?t.qty++:a.push({id:o,title:s.dataset.title,price:parseFloat(s.dataset.price),qty:1,img:s.dataset.img}),p(a),y(),T()}n.target.closest("#toast-close")&&f()});function T(){document.querySelector(".product__toast").classList.add("show"),d.style.pointerEvents="none",d.style.opacity="0.8",u=setTimeout(f,3e3)}function f(){document.querySelector(".product__toast").classList.remove("show"),clearTimeout(u),d&&(d.style.pointerEvents="auto",d.style.opacity="1")}
